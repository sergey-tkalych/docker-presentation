<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=680, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Docker контейнеризация</title>
    <link rel="stylesheet" href="bower_components/shower-bright/styles/screen.css">
    <link rel="stylesheet" href="main.css">
  </head>
  <body class="list">
    <section id="cover" class="slide">
      <div>
        <header><a href="https://www.docker.com/" target="_blank" class="logo"><img src="slides/cover/docker.png"></a></header>
        <h1>Docker контейнеризация</h1>
        <p>Ткалич Сергей,&nbsp;<a href="https://qapint.com" target="_blank">QAP Int</a></p>
      </div>
    </section>
    <section id="whatIsDocker" class="slide">
      <div>
        <h2>What is Docker?</h2>
        <p>An open platform for building, shipping and running distributed applications</p><img src="slides/what-is-docker/build-ship-run.jpg">
      </div>
    </section>
    <section id="build" class="slide">
      <div>
        <h2>Build</h2>
        <div class="split">
          <div class="left">
            <p>Docker allows you to package an application with all of its dependencies into a standardized unit for software development</p>
            <p>Docker containers wrap up a piece of software in a complete filesystem that contains everything it needs to run: code, runtime, system tools, system libraries – anything you can install on a server</p>
          </div>
          <div class="right"><img src="slides/build/what_is_layered_filesystems_sm.png"></div>
        </div>
      </div>
    </section>
    <section id="containersAdvantages" class="slide">
      <div>
        <h2>	Containers advantages</h2>
        <ul>
          <li class="next">Lightweight
            <p class="description">Constructed from layered filesystems so they can share common files, making disk usage much more efficient</p>
          </li>
          <li class="next">Open
            <p class="description">Based on open standards allowing containers to run on all major Linux distributions and Microsoft operating systems with support for every infrastructure</p>
          </li>
          <li class="next">Secure
            <p class="description">Isolated from each other and the underlying infrastructure</p>
          </li>
        </ul>
      </div>
    </section>
    <section id="vmDifference" class="slide">
      <div>
        <h2>Difference from virtual machines?</h2>
        <div class="diagrams">
          <div class="left"><img src="slides/vm-difference/what-is-vm-diagram.png"></div>
          <div class="right"><img src="slides/vm-difference/what-is-docker-diagram.png"></div>
        </div>
      </div>
    </section>
    <section id="vmDifference2" class="slide">
      <div>
        <p><strong>Virtual Machines&nbsp;</strong>- each virtual machine includes the application, the necessary binaries and libraries and an entire guest operating system - all of which may be tens of GBs in size</p>
        <p><strong>Containers&nbsp;</strong>- Containers include the application and all of its dependencies, but share the kernel with other containers. They run as an isolated process in userspace on the host operating system. They’re also not tied to any specific infrastructure – Docker containers run on any computer, on any infrastructure and in any cloud</p>
      </div>
    </section>
    <section id="howToBuild" class="slide">
      <div>
        <h2>How to build</h2>
        <ul>
          <li>Create Dockerfile and put it to your project</li>
          <li>Run&nbsp;<code>docker build -t&nbsp;<span>IMAGE_NAME&nbsp;</span>.</code>&nbsp;command</li>
        </ul>
        <pre><code>FROM node:0.12.7</code><code>ADD . /project</code><code>WORKDIR /project</code><code>RUN npm install</code><code>ENTRYPOINT node app.js</code></pre>
      </div>
    </section>
    <section id="ship" class="slide">
      <div>
        <h2>Ship</h2>
        <p>Docker lets you design the entire cycle of application development, testing and distribution, and manage it with a consistent user interface</p>
        <div class="split">
          <div class="left"><img src="slides/ship/truck.png"></div>
          <div class="right">
            <p>Allows you to dynamically change your application like never before from adding new capabilities, scaling out services to quickly changing problem areas</p>
          </div>
        </div>
      </div>
    </section>
    <section id="shipServices" class="slide">
      <div class="docker"></div>
      <div class="tutum"></div>
      <div class="saltstack"></div>
      <div class="ansible"></div>
      <div class="chef"></div>
    </section>
    <section id="shareCollaborate" class="slide">
      <div>
        <h2>Easily Share, Collaborate on Apps</h2>
        <div class="split">
          <div class="left">
            <ul>
              <li>Store, distribute and manage your Docker images in your Docker Hub</li>
              <li>Use private repositories to store and share your images</li>
            </ul>
          </div>
          <div class="right"><img src="slides/share-collaborate/collabe.png"></div>
        </div>
      </div>
    </section>
    <section id="run" class="slide">
      <div>
        <h2>Run</h2>
        <p>Docker offers you the ability to deploy scalable services, securely and reliably, on a wide variety of platforms</p>
        <p>Support Linux, Mac OS X* and Windows*</p>
        <p class="description">* Docker daemon uses Linux-specific kernel features, you can’t run Docker natively. Use docker-machine to create and attach to a Docker VM on your machine</p>
      </div>
    </section>
    <section id="howToRun" class="slide">
      <div>
        <h2>How to run</h2>
        <p>Just run&nbsp;<code>docker run</code>&nbsp;command with parameters</p>
        <p><code>docker run -p&nbsp;<span>HOST_PORT</span>:<span>CONTAINER_PORT&nbsp;</span>-d&nbsp;<span>IMAGE_NAME</span></code></p>
      </div>
    </section>
    <section id="linkContainers" class="slide">
      <div>
        <blockquote>
          <h2>If I want to have two containers. Can they communicate with each other?</h2>
        </blockquote>
        <blockquote class="next">
          <h2>Yes, they can</h2>
        </blockquote>
        <p class="next">Use docker&nbsp;<code>link</code>&nbsp; option when create container. You can link hundreds or even thousands of containers</p>
      </div>
    </section>
    <section id="compose" class="slide">
      <div>
        <h2>Docker compose</h2>
        <p>Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a Compose file to configure your application’s services. Then, using a single command, you create and start all the services from your configuration</p>
      </div>
    </section>
    <section id="composeEvenMore" class="slide">
      <div>
        <h2>And even more!</h2>
        <p>With docker compose you can easily scale your services</p><code>docker-compose scale&nbsp;<span>MY_SERVICE=8</span></code>
      </div>
    </section>
    <section id="loadBalance" class="slide">
      <div>
        <h2>Load balance with HAProxy</h2>
        <p><strong>HAProxy&nbsp;</strong>- is free, open source software that provides a high availability load balancer and proxy server for TCP and HTTP-based applications</p>
        <ul>
          <li>Load balancing between services</li>
          <li>You can re-deploy your services with zero downtime!</li>
        </ul>
      </div>
    </section>
    <section id="loadBalance2" class="slide">
      <div>
        <h2>Load balance</h2>
        <div class="center"><img src="slides/load-balance-2/haproxy.png" height="450"></div>
      </div>
    </section>
    <section id="controlContainer" class="slide">
      <div>
        <h2>Controlling containers</h2>
        <p>You can stop, start and restart containers</p>
        <p><strong>Removing containers will also remove containers data!</strong></p>
        <blockquote class="next">
          <h2>But, how I can persist data?!</h2>
        </blockquote>
      </div>
    </section>
    <section id="volumes" class="slide">
      <div>
        <h2>Data volumes</h2>
        <p>A data volume is a specially-designated directory within one or more containers</p>
        <p>Data volumes are designed to persist data, independent of the container’s life cycle. Docker therefore never automatically delete volumes when you remove a container</p>
      </div>
    </section>
    <section id="useCase" class="slide">
      <div>
        <h2>Use case</h2>
        <ol>
          <li class="next">Develop push code</li>
          <li class="next">Gitlab trigger commit webhook</li>
          <li class="next">CI Server trigger test</li>
          <li class="next">Test pass, then build docker image and push image</li>
          <li class="next">Deploy Server trigger redeploy</li>
          <li class="next">Redeploy services</li>
        </ol>
      </div>
    </section>
    <section id="questions" class="slide">
      <div class="center">
        <h2>Questions</h2><img src="slides/questions/questions.jpg">
      </div>
    </section>
    <div class="progress">
      <div></div>
    </div>
    <script src="bower_components/shower-core/shower.min.js"></script>
  </body>
</html>